# Shopping Cart System — Test Scenarios (README)

## B. ระบบตะกร้าสินค้า (Shopping Cart)

**เป้าหมาย:** วัดความสามารถในการจัดการสถานะของผู้ใช้งาน (State Management) และความถูกต้องของการคำนวณทางคณิตศาสตร์

---

## ตาราง 6: Acceptance Scenarios (กรณีการทำงานปกติ)

| กรณีทดสอบ (Scenario) | เงื่อนไขเริ่มต้น (Given) | การกระทำ (When) | ผลลัพธ์ที่คาดหวัง (Expected Result / Then) |
|---|---|---|---|
| 1) การเพิ่มและลดจำนวนสินค้า (Update Item Quantity) | มีสินค้า **A** ราคา **100 บาท** จำนวน **1 ชิ้น** ในตะกร้า | ผู้ใช้กดเพิ่มจำนวนเป็น **3 ชิ้น** | 1) จำนวนสินค้า (Quantity) อัปเดตเป็น **3 ชิ้น**<br>2) ราคารวมต่อรายการ (Line Total) เป็น **300 บาท**<br>3) ราคารวมสุทธิ (Grand Total) ของตะกร้าเพิ่มขึ้นถูกต้องทันที |
| 2) การรวมรายการสินค้าซ้ำ (Merge Items Logic) | ในตะกร้ามีสินค้า **SKU-001** จำนวน **1 ชิ้น** อยู่แล้ว | ผู้ใช้กดปุ่ม **"Add to Cart"** สินค้า **SKU-001** ซ้ำอีก **2 ชิ้น** จากหน้าสินค้า | 1) ห้ามสร้างแถวรายการใหม่ (No duplicate rows)<br>2) ระบบต้องรวมจำนวนเข้ากับรายการเดิม (**1 + 2 = 3 ชิ้น**)<br>3) ตรวจสอบว่าจำนวนรวมใหม่ไม่เกินสต็อกที่มี |
| 3) การย้ายสินค้าไปไว้ซื้อภายหลัง (Save for Later) | มีสินค้า **SKU-005** อยู่ในตะกร้า (Status: **Active**) | ผู้ใช้กดปุ่ม **"Save for Later"** ที่สินค้า **SKU-005** | 1) สินค้า **SKU-005** ต้องหายไปจากรายการ “ตะกร้าที่ต้องชำระเงิน”<br>2) ราคารวม (Total Price) ต้องลดลงตามราคาสินค้านั้น<br>3) สินค้าย้ายไปอยู่ในรายการ “Saved Items” (Status: **Saved**) แทน |

---

## ตาราง 7: Edge Cases (กรณีทดสอบขีดจำกัดและความผิดพลาด)

| กรณีทดสอบ (Edge Case) | สถานการณ์จำลอง (Context & Test) | ผลลัพธ์ที่ต้องทำได้ (Expected Result) | เกณฑ์การประเมิน (Evaluation Criteria) |
|---|---|---|---|
| 1) การเพิ่มสินค้าเกินจำนวนสต็อกที่มี (Add More Than Stock) | **Context:** สินค้าเหลือในคลังจริง **5 ชิ้น**<br>**Test:**<br>1) ในตะกร้ามีสินค้านี้อยู่แล้ว **3 ชิ้น**<br>2) ผู้ใช้พยายามกดเพิ่มอีก **3 ชิ้น** (รวมเป็น **6**) | - ระบบต้องปฏิเสธการเพิ่มครั้งที่ 2 (Throw Error/Alert)<br>- แสดงข้อความแจ้งเตือน **"สินค้าไม่เพียงพอ"**<br>- จำนวนในตะกร้าต้องคงอยู่ที่ **3 ชิ้น** เท่าเดิม (ห้ามอัปเดตเป็น 6) | ตรวจสอบ Logic การเช็คสต็อกว่ามีการคำนวณรวมจำนวนเดิมในตะกร้าด้วยหรือไม่<br>Logic: `(CurrentCartQty + NewQty) <= Stock` |
| 2) การคำนวณราคารวมทศนิยม (Floating Point Calculation) | **Context:** สินค้าราคา **19.99**<br>**Test:** ผู้ใช้เพิ่มสินค้าจำนวน **3 ชิ้น** (คำนวณ: `19.99 * 3 = 59.97`) | - ราคารวมต้องแสดงเป็น **59.97** เป๊ะๆ<br>- ห้ามเกิดค่าทศนิยมเพี้ยน เช่น **59.9700000000004** | ตรวจสอบว่าโค้ดมีการจัดการ Precision ของทศนิยมถูกต้องหรือไม่ (เช่น การคูณ 100 เพื่อคำนวณเป็น Integer/cents หรือใช้ Library จัดการ Money โดยเฉพาะ) |
